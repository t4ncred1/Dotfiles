#
# ~/.bashrc
#

if ! [[ $- != *i* ]] then

   # Only set if in an interactive shell
   alias ls='ls --color=auto'

fi

# Environment variables

## Java
if ! [[ -z $JAVA_HOME ]] 2> /dev/null && ! [[ "$PATH" =~ ":$JAVA_HOME/bin" ]]; then
    export PATH="$PATH:$JAVA_HOME/bin"
fi
export PATH

## Ant
if ! [[ -z $ANT_HOME ]] 2> /dev/null && ! [[ $PATH =~ :$ANT_HOME/bin ]]; then
    PATH="$PATH:$ANT_HOME/bin"
fi
export PATH

## Generics
export EDITOR=/usr/bin/vim
export PAGER=/usr/bin/less

# Aliases

## Java/blade building commands
alias gradlew='$(git rev-parse --show-toplevel)/gradlew'
alias baseline="blade gw baseline"
alias sfc="ant format-source-current-branch;"
alias sfl="ant format-source-local-changes;"

if command -v notify > /dev/null 2>&1; then
    alias deploy="blade gw deploy; notify 'Deploy' 'Deploy completed!'"
    alias deploya="blade gw deploy -a -Pnodejs.node.env=development; notify 'Deploy' 'Deploy completed!'"
    alias sf="blade gw formatSource; notify 'Source Formatter' 'Completed!'"
    alias build-rest="blade gw buildRest; notify 'BuildRest' 'Completed!'"
    alias build-service="blade gw buildService; notify 'BuildService' 'Completed!'"
    alias build-language="blade gw buildLang; notify 'BuildLanguage' 'Completed!'"
    alias rebuild="ant setup-sdk; ant setup-profile-dxp; ij; ant all; ij; notify 'Ant all' 'Build completed!'"
    alias rebuild-full="git clean -dfx -e \"build.$(whoami).properties\" -e \"app.server.$(whoami).properties\"; ant setup-sdk; ant setup-profile-dxp; ij; ant all; ij; notify 'Ant all' 'Build completed!'"
fi

